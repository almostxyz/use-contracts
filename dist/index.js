'use strict';

var M=Object.create;var f=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var O=(e,n)=>{for(var t in n)f(e,t,{get:n[t],enumerable:!0});},T=(e,n,t,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of A(n))!B.call(e,r)&&r!==t&&f(e,r,{get:()=>n[r],enumerable:!(s=S(n,r))||s.enumerable});return e};var C=(e,n,t)=>(t=e!=null?M(E(e)):{},T(n||!e||!e.__esModule?f(t,"default",{value:e,enumerable:!0}):t,e)),R=e=>T(f({},"__esModule",{value:!0}),e);var Z={};O(Z,{EthersProvider:()=>j,useAddress:()=>F,useContract:()=>b,useERC20:()=>I,useProvider:()=>N,useSigner:()=>k});module.exports=R(Z);var o=C(require("react"));var w=C(require("react")),i=w.default.createContext({contracts:{},provider:void 0,signer:void 0,addContract:()=>{},clearContracts:()=>{},setProvider:()=>{},setSigner:()=>{},setAddress:()=>{}});var y=require("react"),x=require("ethers");var b=(e,n)=>{let{contracts:t,addContract:s,provider:r,signer:a}=(0, y.useContext)(i),[p,d]=(0, y.useState)(t[e]);return (0, y.useEffect)(()=>{(async()=>{if(!(r&&a)||t[e])return;let m=await new x.Contract(e,n,a||r||void 0).deployed();s(m),d(m);})();},[e,n,r,a]),p};var P=require("react"),c=require("ethers");var h=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var I=(e,n)=>{let t=b(e,h);return (0, P.useEffect)(()=>{t&&(t.transferWithAllowance=async function(s,r){if(!(n instanceof c.Signer))throw Error("Not a signer");try{let a=await n.getAddress(),p=await this.allowance(a,s),d=c.BigNumber.from(c.utils.parseEther(`${r}`)),u=d.sub(p);u.isNegative()||u.isZero()?await this.transfer(s,d.toBigInt()):(await this.approve(s,u.toBigInt()),this.on(this.filters["Approval(address,address,uint256)"](a,s),async()=>{await this.transfer(s,d.toBigInt());}));}catch(a){console.error(a);}});},[t]),t};var v=require("react");var N=e=>{let{clearContracts:n,setProvider:t,provider:s}=(0, v.useContext)(i);return (0, v.useEffect)(()=>{if(!e){n();return}t(e);},[e]),[s,t]};var l=require("react");var k=e=>{let{clearContracts:n,setSigner:t,setProvider:s,signer:r,setAddress:a}=(0, l.useContext)(i);return (0, l.useEffect)(()=>{if(!r){n();return}t(r),s(r==null?void 0:r.provider),(async()=>{a(await r.getAddress());})();},[r]),[r,t]},F=()=>(0, l.useContext)(i).address;var V=()=>{let[e,n]=(0, o.useState)(),[t,s]=(0, o.useState)(),[r,a]=(0, o.useState)(),[p,d]=(0, o.useState)({}),u=g=>{d({...p,[g.address]:g});},m=(0, o.useCallback)(()=>{Object.keys(p).length!==0&&d({});},[]);return {provider:e,signer:t,address:r,contracts:p,setProvider:n,setSigner:s,setAddress:a,addContract:u,clearContracts:m}},j=({children:e})=>o.default.createElement(i.Provider,{value:V()},e);
