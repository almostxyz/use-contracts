'use strict';

var M=Object.create;var f=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var O=(e,n)=>{for(var t in n)f(e,t,{get:n[t],enumerable:!0});},T=(e,n,t,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of A(n))!B.call(e,r)&&r!==t&&f(e,r,{get:()=>n[r],enumerable:!(s=S(n,r))||s.enumerable});return e};var C=(e,n,t)=>(t=e!=null?M(E(e)):{},T(n||!e||!e.__esModule?f(t,"default",{value:e,enumerable:!0}):t,e)),R=e=>T(f({},"__esModule",{value:!0}),e);var Z={};O(Z,{EthersProvider:()=>j,useAddress:()=>F,useContract:()=>g,useERC20:()=>I,useProvider:()=>k,useSigner:()=>N});module.exports=R(Z);var p=C(require("react"));var w=C(require("react")),o=w.default.createContext({contracts:{},provider:void 0,signer:void 0,address:["",""],addContract:()=>{},clearContracts:()=>{},setProvider:()=>{},setSigner:()=>{},setAddress:()=>{}});var y=require("react"),x=require("ethers");var g=(e,n)=>{let{contracts:t,addContract:s,provider:r,signer:a}=(0, y.useContext)(o),[d,i]=(0, y.useState)(t[e]);return (0, y.useEffect)(()=>{(async()=>{if(!(r&&a)||t[e])return;let c=await new x.Contract(e,n,a||r||void 0).deployed();s(c),i(c);})();},[e,n,r,a]),d};var P=require("react"),l=require("ethers");var h=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var I=(e,n)=>{let t=g(e,h);return (0, P.useEffect)(()=>{t&&(t.transferWithAllowance=async function(s,r){if(!(n instanceof l.Signer))throw Error("Not a signer");try{let a=await n.getAddress(),d=await this.allowance(a,s),i=l.BigNumber.from(l.utils.parseEther(`${r}`)),u=i.sub(d);u.isNegative()||u.isZero()?await this.transfer(s,i.toBigInt()):(await this.approve(s,u.toBigInt()),this.on(this.filters["Approval(address,address,uint256)"](a,s),async()=>{await this.transfer(s,i.toBigInt());}));}catch(a){console.error(a);}});},[t]),t};var v=require("react");var k=e=>{let{clearContracts:n,setProvider:t,provider:s}=(0, v.useContext)(o);return (0, v.useEffect)(()=>{if(!e){n();return}t(e);},[e]),[s,t]};var m=require("react");var N=e=>{let{clearContracts:n,setSigner:t,setProvider:s,signer:r,setAddress:a}=(0, m.useContext)(o);return (0, m.useEffect)(()=>{if(!r){n();return}t(r),s(r==null?void 0:r.provider),(async()=>{var c;let i=await r.getAddress(),u=await((c=r.provider)==null?void 0:c.lookupAddress(i))||"";a([i,u]);})();},[r]),[r,t]},F=()=>(0, m.useContext)(o).address;var V=()=>{let[e,n]=(0, p.useState)(),[t,s]=(0, p.useState)(),[r,a]=(0, p.useState)(["",""]),[d,i]=(0, p.useState)({}),u=b=>{i({...d,[b.address]:b});},c=(0, p.useCallback)(()=>{Object.keys(d).length!==0&&i({});},[]);return {provider:e,signer:t,address:r,contracts:d,setProvider:n,setSigner:s,setAddress:a,addContract:u,clearContracts:c}},j=({children:e})=>p.default.createElement(o.Provider,{value:V()},e);
