'use strict';

var P=Object.create;var l=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var B=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0});},T=(e,n,t,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of S(n))!A.call(e,r)&&r!==t&&l(e,r,{get:()=>n[r],enumerable:!(a=M(n,r))||a.enumerable});return e};var C=(e,n,t)=>(t=e!=null?P(E(e)):{},T(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),O=e=>T(l({},"__esModule",{value:!0}),e);var V={};B(V,{EthersProvider:()=>F,useContract:()=>v,useERC20:()=>W,useProvider:()=>I,useSigner:()=>N});module.exports=O(V);var o=C(require("react"));var g=C(require("react")),i=g.default.createContext({contracts:{},provider:void 0,signer:void 0,addContract:()=>{},clearContracts:()=>{},setProvider:()=>{},setSigner:()=>{}});var d=require("react"),w=require("ethers");var v=(e,n)=>{let{contracts:t,addContract:a,provider:r,signer:s}=(0, d.useContext)(i),[c,p]=(0, d.useState)(t[e]);return (0, d.useEffect)(()=>{(async()=>{if(!(r&&s)||t[e])return;let b=await new w.Contract(e,n,s||r||void 0).deployed();a(b),p(b);})();},[e,n,r,s]),c};var h=require("react"),y=require("ethers");var x=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var W=(e,n)=>{let t=v(e,x);return (0, h.useEffect)(()=>{t&&(t.transferWithAllowance=async function(a,r){if(!(n instanceof y.Signer))throw Error("Not a signer");try{let s=await n.getAddress(),c=await this.allowance(s,a),p=y.BigNumber.from(y.utils.parseEther(`${r}`)),u=p.sub(c);u.isNegative()||u.isZero()?await this.transfer(a,p.toBigInt()):(await this.approve(a,u.toBigInt()),this.on(this.filters["Approval(address,address,uint256)"](s,a),async()=>{await this.transfer(a,p.toBigInt());}));}catch(s){console.error(s);}});},[t]),t};var m=require("react");var I=e=>{let{clearContracts:n,setProvider:t,provider:a}=(0, m.useContext)(i);return (0, m.useEffect)(()=>{if(!e){n();return}t(e);},[e]),[a,t]};var f=require("react");var N=e=>{let{clearContracts:n,setSigner:t,setProvider:a,signer:r}=(0, f.useContext)(i);return (0, f.useEffect)(()=>{if(!r){n();return}t(r),a(r==null?void 0:r.provider);},[r]),[r,t]};var k=()=>{let[e,n]=(0, o.useState)(),[t,a]=(0, o.useState)(),[r,s]=(0, o.useState)({}),c=u=>{s({...r,[u.address]:u});},p=(0, o.useCallback)(()=>{Object.keys(r).length!==0&&s({});},[]);return {provider:e,signer:t,contracts:r,setProvider:n,setSigner:a,addContract:c,clearContracts:p}},F=({children:e})=>o.default.createElement(i.Provider,{value:k()},e);
